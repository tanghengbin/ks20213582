<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document2</title>
  <style type="text/css">
	/* video{
		width:700px;
		height:400px;
	} */
	input{
		font-size:2em;
		margin-right:1em;
		/*padding:20px;*/
		width:200px;
	}
	div#logo{
		font-size:2em;
		background-color:red;
		color:white;
		/*重新定义位置*/
		position:absolute;
		right:35px;
		top:25px;
		padding:30px 65px;
	}
	div#currentTime{
		font-size:2em;
		background-color:green;
		color:white;
		/*重新定义位置*/
		position:absolute;
		left:35px;
		top:25px;
		padding:30px 65px;
	}
  </style>
 </head>
 <body>
  <div id="logo" >
  </div>
  <div id="currentTime" >
	
  </div>
  <video id="video" src="d:\Git\tangHB\images\mp4Files\v02004040000bpa9p3egncoejcefuv4g" controls>
  </video>
  <div id="" class="">
	<input type="button" value="PLAY" id="play">
	<input type="button" value="STOP" id="stop">
	<input type="button" value="NEXT" id="next">
	<input type="button" value="FORWARD" id="forward">
	<input type="text" value="0" id="videoSN">
	<!--<input type="text" value="0s" id="currentTime">-->
  </div>
 </body>
 <script type="text/javascript" src="ks.js">
 </script>

 <script type="text/javascript">
 var Model = {};
 Model.Length = mediaData.videoFiles.length;
 
 Model.UI = {};
	Model.UI.videoDom = document.getElementById("video");
	Model.UI.playB = document.getElementById("play");
	Model.UI.stopB = document.getElementById("stop");
	Model.UI.nextB = document.getElementById("next");
	Model.UI.forwardB = document.getElementById("forward");
	Model.UI.videoSNvaule = document.getElementById("videoSN")
	Model.UI.logoDom = document.getElementById("logo");
	Model.UI.timeDom = document.getElementById("currentTime");
	Model.UI.i = 0;//视频的下标，初始为0
	Model.UI.screenWidth = document.body.clientWidth;
	
	//获取视频的地址
	Model.getVideoUrl = function(){
		return mediaData.videoPath + mediaData.videoFiles[Model.UI.i];
	};

	/*输出logo的内容*/
	Model.UI.showCurrentVideoUI = function(i){
		Model.UI.logoDom.textContent = 'NO.' + (i + 1) + '/' + Model.Length;
	};

	
	/*window界面自动刷新频率,1000ms刷新一次，并更新currentTimeDom.value的值*/
	window.setInterval(function(){
		let timeText = parseInt(video.currentTime) + 's'
		timeText += "/" + parseInt(video.duration) + "s";
		Model.UI.timeDom.textContent = timeText;
	},1000);

	//console.log('your screen width:' + screenWidth);
	//Model.UI.videoDom.style.width为字符串类型，视频宽度覆盖界面
	Model.UI.videoDom.style.width = Model.UI.screenWidth + 'px';
	Model.UI.showCurrentVideoUI(Model.UI.i);
	
 	Model.UI.playB.onclick = function(){
 		//向后台输出
 		//console.log("SN:" + videoSN.value);
 		//指定视频播放
		let i = Model.UI.i;
 		if(parseInt(Model.UI.videoSNvaule.value) >= 0 && parseInt(Model.UI.videoSNvaule.value) < Model.Length){
 			//当转化后为整数且不超出范围时
 			i = parseInt(Model.UI.videoSNvaule.value);
 		}else{
 			Model.UI.videoSNvaule.value = i;
 			console.log("输入格式不正确或超出范围")
 		}
 		
		Model.UI.showCurrentVideoUI(i);
		//将改变后的i赋给Model.UI.i
		Model.UI.i = i;
		Model.UI.videoDom.src = Model.getVideoUrl();
 		Model.UI.videoDom.play();
 	};


 	Model.UI.stopB.onclick = function(){
 		Model.UI.videoDom.pause();
 	};


 	Model.UI.nextB.onclick = function(){
		let i = Model.UI.i;
 		if(Model.Length - 1 > i){
 			i++;
 			//文本框里的视频序号要跟着变,便于查明是哪个视频
 			Model.UI.videoSNvaule.value = i;
 		}else{
 			i = 0;
 			//文本框里的视频序号要跟着变,便于查明是哪个视频
 			Model.UI.videoSNvaule.value = i;
 		}
		Model.UI.showCurrentVideoUI(i);
		Model.UI.i = i;
		Model.UI.videoDom.src = Model.getVideoUrl();
		Model.UI.videoDom.play();
 	};


 	Model.UI.forwardB.onclick = function(){
		let i = Model.UI.i;
 		if(i > 0){
 			i--;
 			//文本框里的视频序号要跟着变,便于查明是哪个视频
 			Model.UI.videoSNvaule.value = i;
 		}else{
 			i = Model.Length - 1;
 			//文本框里的视频序号要跟着变,便于查明是哪个视频
 			Model.UI.videoSNvaule.value = i;
 		}
		Model.UI.showCurrentVideoUI(i);
		Model.UI.i = i;
		Model.UI.videoDom.src = Model.getVideoUrl();
		Model.UI.videoDom.play();
 
 	};
 	//鼠标放在上面时
 	/*playB.onmouseover = function(){
 		console.log("Hello Word");
 	};*/
	//敲击键盘时
	document.onkeypress = function(e){
		console.log('type：' + e.key);
	};
 	
 //
 </script>
</html>
